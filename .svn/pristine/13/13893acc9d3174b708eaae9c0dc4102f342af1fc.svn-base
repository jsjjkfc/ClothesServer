<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title>FrozenUI Demo</title>
<link rel="stylesheet" href="../frozenui/dist/css/frozen.css">
<style type="text/css">
body {
	max-width: 640px;
	min-width: 320px;
	margin: 0 auto;
}

.header {
	width: 100%;
	z-index: 100;
	top: 0;
	height: 45px;
	line-height: 45px;
	background-color: #18b4ed;
	color: #fff;
	background-color: #18b4ed;
}

.header h1 {
	text-align: center;
	font-size: 18px
}

.header .ui-icon-return {
	position: absolute;
}
</style>
</head>
<body>
	<div class="header" style="background: #f2711c;">
		<h1>
			<i class="ui-icon-return" onclick="history.back()"
				style="color: #fff"></i>用户注册<i class="ui-icon-home"
				style="float: right; color: #fff"></i>
		</h1>
	</div>

	<section class="ui-container">
		<div class="ui-form ">
			<form action="#" style="margin-top: 17px" method="post" id="register">
				<div class="ui-form-item ui-form-item-pure ui-border-b ui-border-t">
					<input type="text" placeholder="请输入您的用户名" name="name"> <a
						href="#" class="ui-icon-close" id="clearName"></a> <input
						type="hidden" name="openid" value="${openid}">
				</div>
				<span class="ui-form-item ui-form-item-pure ui-border-b"
					id="validateName"
					style="max-width: 640px; display: none; font-size: 14px; height: 30px; line-height: 30px; color: #f75549"><i
					class="ui-icon-info-block"
					style="font-size: 25px; height: 30px; line-height: 30px; display: inline-block; color: #f75549"></i>该用户名已被使用</span>
				<div class="ui-form-item ui-form-item-pure ui-border-b">
					<input type="password" placeholder="请输入您的密码" name="password">
					<a href="#" class="ui-icon-close" id="clearPwd"></a>
				</div>
				<div class="ui-form-item ui-form-item-pure ui-border-b">
					<input type="password" placeholder="请再次确认您的密码"
						name="passwordConfirm"> <a href="#" class="ui-icon-close"
						id="clearConPwd"></a>
				</div>
				<span class="ui-form-item ui-form-item-pure ui-border-b"
					id="validatePwd"
					style="max-width: 640px; display: none; font-size: 14px; height: 30px; line-height: 30px; color: #f75549"><i
					class="ui-icon-info-block"
					style="font-size: 25px; height: 30px; line-height: 30px; display: inline-block; color: #f75549"></i>两次输入的密码不一致</span>
				<div style="height: 55px"></div>
				<div id="warn" class="ui-poptips ui-poptips-warn"
					style="display: none">
					<div class="ui-poptips-cnt">
						<i></i>请正确填写注册信息
					</div>
				</div>
				<div class="ui-btn-wrap">
					<button id="sub" class="ui-btn-lg ui-btn-primary" type="button">注册</button>
				</div>
				<div class="ui-btn-wrap">
					<button class="ui-btn-lg ui-btn-primary" disabled>取消</button>
				</div>
			</form>
		</div>
	</section>
	<!-- /.ui-container-->
	<div
		style="display: block; background-color: #fff; margin: 0 auto; padding-top: 250px; padding-bottom: 1.3em; text-align: center; width: 100%;"
		id="footer">
		<div
			style="border-bottom: 1px solid #e5e5e5; padding: 0.55em 0.71em; text-align: left;">
			<span style="color: #868686; display: inline-block; margin: 0 2px;">微信号：juyingweike
			</span> <span style="float: right"><a href="">反馈</a></span>
		</div>

		<div style="color: #999; line-height: 2.5em;">©CopyRight
			优美优科技有限公司</div>
	</div>
	<script src="../js/jquery/jquery-1.11.3.min.js"></script>
	<script src="../js/jquery/jquery.form.js"></script>
	<script>
		var ok1 = false;
		var ok2 = false;
		$('ul li').click(function() {
			location.href = $(this).data('href');
		});
		$('.ui-header .ui-btn').click(function() {
			location.href = 'index.html';
		});
		$('input[name="name"]').focus(function() {
			$("#validateName").css("display", "none");
		}).blur(
				function() {
					$("#validateName").css("display", "block");
					if ($(this).val() != ""
							&& $("#validateName").css("display") == "none") {
						ok1 = true;
					}
				});
		$('input[name="passwordConfirm"]').focus(function() {
			$("#validatePwd").css("display", "none");
		}).blur(
				function() {
					$("#validatePwd").css("display", "block");
					if ($(this).val() != ""
							&& $("#validatePwd").css("display") == "none") {
						ok2 = true;
					}
				});
		var options = {
			//定义返回JSON数据，还包括xml和script格式
			dataType : 'text',
			type : 'post',
			url : "",
			beforeSend : function() {
			},
			success : function(data) {

			}
		};

		// ajaxSubmit
		$("#sub").click(function() {
			// ajaxForm
			if (ok1 && ok2) {
				$("#register").ajaxSubmit(options);
			} else {
				$("#warn").css("display", "block");
				$('#warn').delay(2000).hide(0);
			}
		});
	</script>
</body>
</html>